<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" />
	<title>事件</title>
	<script src="https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"></script>
	<script src="https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"></script>
	<script src="https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"></script>
</head>

<body>

	<div id="root"></div>
  <script type="text/babel">
  // class HelloMessage extends React.Component{
  //   constructor(props){
  //     super(props);
  //     this.state = {value:'hello'};
  //     this.handleChange = this.handleChange.bind(this)
  //   }
  //   handleChange(event){
  //     this.setState({value:event.target.value})
  //   }
  //   render(){
  //     const value = this.state.value
  //     return(
  //       <div>
  //         <button value="submit" onClick={this.handleChange}>onClick</button>
  //         <h4>{value}</h4>
  //       </div>
  //     )
  //   }
  // }
  // ReactDOM.render(
  //   <HelloMessage />,
  //   document.getElementById('root')
  // )
  
  //从子组件中更新父组件的 state 时，你需要在父组件通过创建事件句柄 (handleChange) ，并作为 prop (updateStateProp) 传递到你的子组件上
  class Content extends React.Component{
    render(){
      return(
        <div>
          <button value='submit' onClick={this.props.updateStateProp}>onClick</button>
          <h4>{this.props.myDataProp}</h4>
        </div>
      )
    }
  }
  class HelloMessage extends React.Component{
    constructor(props){
      super(props);
      this.state = {value:'hello'};
      this.handleChange = this.handleChange.bind(this);
    }
    handleChange(event){
      this.setState({value:event.target.value})
    }
    render(){
      const value = this.state.value;
      return(
        <Content myDataProp={value} updateStateProp={this.handleChange} />
      )
    }
  }
  ReactDOM.render(
    <HelloMessage />,
    document.getElementById('root')
  )
	</script>

</body>

</html>